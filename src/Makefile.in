#
# Copyright (C) 2002, 2003 Christophe Kalt
#
# This file is part of shmux,
# see the LICENSE file for details on your rights.
#
# $Id: Makefile.in,v 1.4 2003-03-19 02:15:35 kalt Exp $
#

SHELL	=	/bin/sh
CC	=	@CC@
CPPFLAGS=	@CPPFLAGS@
CFLAGS	=	@CFLAGS@
LDFLAGS	=	@LDFLAGS@
LIBS	=	@LIBS@

OBJS	=	analyzer.o byteset.o exec.o loop.o shmux.o status.o target.o term.o units.o
SRCS	=	$(OBJS:%.o=%.c)

shmux	: $(OBJS)
	$(CC) $(CPPFLAGS) $(CFLAGS) $(OBJS) $(LDFLAGS) $(LIBS) -o shmux

pure	: $(OBJS)
	purify $(CC) $(CPPFLAGS) $(CFLAGS) $(OBJS) $(LDFLAGS) $(LIBS) -o shmux.pure

depend  : $(SRCS)
	@rm -f Makefile.deps
	$(CC) $(CPPFLAGS) -MM $(SRCS) \
		| sed 's/\([^\\]\)$$/\1 Makefile/' > Makefile.deps

clean	:
	/bin/rm -f *.o depend core *.core

distclean: clean
	/bin/rm -f Makefile config.h shmux

include Makefile.deps
